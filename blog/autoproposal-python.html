<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AutoProposal V2 : Automatisation PDF avec Python - Klyon</title>
    <meta name="description" content="Guide technique complet pour automatiser l'extraction de donn√©es PDF avec Python. Code source, techniques d'OCR et int√©gration web.">
    
    <!-- SEO Meta Tags -->
    <meta name="keywords" content="Python, PDF, OCR, automatisation, CRM, extraction donn√©es, PyPDF2, Tesseract">
    <meta name="author" content="Lorenzo Fortini - Klyon">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph -->
    <meta property="og:title" content="AutoProposal V2 : Automatisation PDF avec Python">
    <meta property="og:description" content="Guide technique complet pour automatiser l'extraction de donn√©es PDF avec Python.">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://klyon.fr/blog/autoproposal-python.html">
    
    <!-- Favicon -->
    <link rel="icon" type="image/jpeg" href="../minilogo.jpg">
    
    <link rel="stylesheet" href="../styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css">
    
    <style>
        .blog-article {
            max-width: 800px;
            margin: 0 auto;
            padding: 2rem;
            line-height: 1.8;
        }
        
        .blog-article h1 {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 1rem;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .blog-article .meta {
            display: flex;
            gap: 2rem;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--border-color);
            color: var(--text-secondary);
        }
        
        .blog-article .meta span {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .blog-article h2 {
            font-size: 1.8rem;
            font-weight: 600;
            color: var(--text-primary);
            margin: 2rem 0 1rem 0;
            padding-left: 1rem;
            border-left: 4px solid var(--primary-color);
        }
        
        .blog-article h3 {
            font-size: 1.4rem;
            font-weight: 600;
            color: var(--text-primary);
            margin: 1.5rem 0 0.8rem 0;
        }
        
        .blog-article p {
            margin-bottom: 1.2rem;
            color: var(--text-secondary);
        }
        
        .blog-article ul, .blog-article ol {
            margin-bottom: 1.2rem;
            padding-left: 2rem;
        }
        
        .blog-article li {
            margin-bottom: 0.5rem;
            color: var(--text-secondary);
        }
        
        .code-block {
            background: var(--background-light);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            overflow-x: auto;
        }
        
        .code-block pre {
            margin: 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
        }
        
        .highlight-box {
            background: rgba(37, 99, 235, 0.1);
            border-left: 4px solid var(--primary-color);
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-radius: 0 8px 8px 0;
        }
        
        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--primary-color);
            text-decoration: none;
            font-weight: 500;
            margin-bottom: 2rem;
            transition: all 0.3s ease;
        }
        
        .back-link:hover {
            color: var(--accent-color);
            transform: translateX(-5px);
        }
        
        .cta-section {
            background: var(--gradient-primary);
            color: white;
            padding: 2rem;
            border-radius: 12px;
            margin: 3rem 0;
            text-align: center;
        }
        
        .cta-section h3 {
            color: white;
            margin-bottom: 1rem;
        }
        
        .cta-section p {
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 1.5rem;
        }
        
        .cta-section .btn {
            background: white;
            color: var(--primary-color);
            padding: 12px 24px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .cta-section .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <a href="../index.html">
                    <img src="../logo.jpg" alt="Klyon Logo" class="logo-img">
                </a>
            </div>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="../index.html#accueil" class="nav-link">Accueil</a>
                </li>
                <li class="nav-item">
                    <a href="../index.html#services" class="nav-link">Services</a>
                </li>
                <li class="nav-item">
                    <a href="../index.html#competences" class="nav-link">Comp√©tences</a>
                </li>
                <li class="nav-item">
                    <a href="../index.html#apropos" class="nav-link">√Ä propos</a>
                </li>
                <li class="nav-item">
                    <a href="../index.html#projets" class="nav-link">Projets</a>
                </li>
                <li class="nav-item">
                    <a href="../index.html#blog" class="nav-link">Blog</a>
                </li>
                <li class="nav-item">
                    <a href="../index.html#contact" class="nav-link">Contact</a>
                </li>
            </ul>
        </div>
    </nav>

    <div class="blog-article">
        <a href="../index.html#blog" class="back-link">
            <i class="fas fa-arrow-left"></i> Retour au blog
        </a>
        
        <h1>AutoProposal V2 : Automatisation PDF avec Python</h1>
        
        <div class="meta">
            <span><i class="fas fa-calendar"></i> 12 Septembre 2024</span>
            <span><i class="fas fa-clock"></i> 12 min de lecture</span>
            <span><i class="fas fa-tag"></i> Python</span>
        </div>
        
        <p>Comment j'ai d√©velopp√© une solution compl√®te d'extraction de donn√©es PDF pour automatiser la saisie des propales dans un CRM. Retour d'exp√©rience technique avec code source et techniques d'OCR.</p>
        
        <h2>Le contexte du projet</h2>
        
        <p><strong>Client :</strong> Entreprise de services (Marseille)</p>
        <p><strong>Probl√®me :</strong> Les commerciaux passaient 2h par jour √† saisir manuellement les donn√©es des propales PDF dans le CRM</p>
        <p><strong>Objectif :</strong> Automatiser l'extraction et permettre la validation avant int√©gration</p>
        
        <div class="highlight-box">
            <strong>üí° Challenge technique :</strong> Les PDFs provenaient de diff√©rents fournisseurs avec des formats vari√©s. Il fallait g√©rer la reconnaissance de texte (OCR) et l'extraction de donn√©es structur√©es.
        </div>
        
        <h2>Architecture de la solution</h2>
        
        <p>La solution AutoProposal V2 se compose de 3 modules principaux :</p>
        
        <ol>
            <li><strong>Module d'upload :</strong> Interface web pour d√©poser les PDFs</li>
            <li><strong>Module d'extraction :</strong> OCR + parsing des donn√©es</li>
            <li><strong>Module d'int√©gration :</strong> Validation + import dans le CRM</li>
        </ol>
        
        <!-- Paywall Overlay -->
        <div id="paywall-overlay" class="paywall-overlay">
            <div class="paywall-content">
                <div class="paywall-icon">
                    <i class="fas fa-lock"></i>
                </div>
                <h3>Article Premium</h3>
                <p>Cet article contient du code source complet, des techniques avanc√©es d'OCR et des exemples d'int√©gration CRM.</p>
                
                <div class="paywall-benefits">
                    <h4>Ce que vous d√©couvrirez :</h4>
                    <ul>
                        <li><i class="fas fa-check"></i> Code Python complet pour l'extraction PDF</li>
                        <li><i class="fas fa-check"></i> Techniques d'OCR avec Tesseract</li>
                        <li><i class="fas fa-check"></i> Interface web Flask responsive</li>
                        <li><i class="fas fa-check"></i> Int√©gration CRM avec API REST</li>
                        <li><i class="fas fa-check"></i> Gestion d'erreurs et validation</li>
                        <li><i class="fas fa-check"></i> Architecture modulaire et √©volutive</li>
                    </ul>
                </div>
                
                <div class="paywall-cta">
                    <a href="../index.html#contact" class="btn btn-primary">
                        <i class="fas fa-envelope"></i> Demander l'article complet
                    </a>
                    <a href="../index.html#competences" class="btn btn-secondary">
                        <i class="fas fa-code"></i> Voir mes comp√©tences
                    </a>
                </div>
            </div>
        </div>
        
        <!-- Premium Content (Blurred) -->
        <div id="premium-content" class="premium-content">
        
        <h2>1. Installation des d√©pendances</h2>
        
        <div class="code-block">
            <pre><code># requirements.txt
Flask==2.3.3
PyPDF2==3.0.1
pytesseract==0.3.10
Pillow==10.0.0
pandas==2.0.3
openpyxl==3.1.2
python-dotenv==1.0.0</code></pre>
        </div>
        
        <h2>2. Module d'extraction PDF</h2>
        
        <p>Voici le c≈ìur de la solution : l'extraction intelligente des donn√©es PDF.</p>
        
        <div class="code-block">
            <pre><code>import PyPDF2
import pytesseract
from PIL import Image
import re
import json

class PDFExtractor:
    def __init__(self):
        self.patterns = {
            'montant': r'(\d{1,3}(?:\s?\d{3})*(?:[.,]\d{2})?)\s*‚Ç¨',
            'date': r'(\d{1,2}[./-]\d{1,2}[./-]\d{2,4})',
            'client': r'Client[:\s]+([^\n\r]+)',
            'reference': r'R√©f[:\s]+([A-Z0-9-]+)'
        }
    
    def extract_text_from_pdf(self, pdf_path):
        """Extraction du texte depuis un PDF"""
        text = ""
        try:
            with open(pdf_path, 'rb') as file:
                pdf_reader = PyPDF2.PdfReader(file)
                for page in pdf_reader.pages:
                    text += page.extract_text() + "\n"
        except Exception as e:
            print(f"Erreur extraction PDF: {e}")
            return None
        return text
    
    def extract_with_ocr(self, pdf_path):
        """Extraction via OCR si le PDF est scann√©"""
        try:
            # Conversion PDF vers images
            images = convert_from_path(pdf_path)
            text = ""
            for image in images:
                text += pytesseract.image_to_string(image, lang='fra') + "\n"
            return text
        except Exception as e:
            print(f"Erreur OCR: {e}")
            return None
    
    def parse_data(self, text):
        """Parsing des donn√©es extraites"""
        data = {}
        
        for key, pattern in self.patterns.items():
            matches = re.findall(pattern, text, re.IGNORECASE)
            if matches:
                data[key] = matches[0] if len(matches) == 1 else matches
        
        # Nettoyage des donn√©es
        if 'montant' in data:
            data['montant'] = self.clean_amount(data['montant'])
        
        return data
    
    def clean_amount(self, amount_str):
        """Nettoyage du montant"""
        # Supprimer les espaces et normaliser les s√©parateurs
        amount_str = amount_str.replace(' ', '').replace(',', '.')
        try:
            return float(amount_str)
        except ValueError:
            return None</code></pre>
        </div>
        
        <h2>3. Interface web Flask</h2>
        
        <p>Interface simple et intuitive pour les commerciaux :</p>
        
        <div class="code-block">
            <pre><code>from flask import Flask, render_template, request, jsonify
import os
from werkzeug.utils import secure_filename

app = Flask(__name__)
app.config['UPLOAD_FOLDER'] = 'uploads/'
app.config['MAX_CONTENT_LENGTH'] = 16 * 1024 * 1024  # 16MB max

@app.route('/')
def index():
    return render_template('upload.html')

@app.route('/upload', methods=['POST'])
def upload_file():
    if 'file' not in request.files:
        return jsonify({'error': 'Aucun fichier s√©lectionn√©'})
    
    file = request.files['file']
    if file.filename == '':
        return jsonify({'error': 'Aucun fichier s√©lectionn√©'})
    
    if file and allowed_file(file.filename):
        filename = secure_filename(file.filename)
        filepath = os.path.join(app.config['UPLOAD_FOLDER'], filename)
        file.save(filepath)
        
        # Extraction des donn√©es
        extractor = PDFExtractor()
        text = extractor.extract_text_from_pdf(filepath)
        
        if not text or len(text.strip()) < 50:
            # Essayer avec OCR
            text = extractor.extract_with_ocr(filepath)
        
        if text:
            data = extractor.parse_data(text)
            return jsonify({
                'success': True,
                'data': data,
                'raw_text': text[:500] + '...' if len(text) > 500 else text
            })
        else:
            return jsonify({'error': 'Impossible d\'extraire le texte du PDF'})
    
    return jsonify({'error': 'Format de fichier non support√©'})

def allowed_file(filename):
    return '.' in filename and filename.rsplit('.', 1)[1].lower() == 'pdf'

if __name__ == '__main__':
    app.run(debug=True)</code></pre>
        </div>
        
        <h2>4. Interface utilisateur (HTML/JavaScript)</h2>
        
        <div class="code-block">
            <pre><code>&lt;!-- upload.html --&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;AutoProposal V2&lt;/title&gt;
    &lt;style&gt;
        .upload-area {
            border: 2px dashed #ccc;
            border-radius: 10px;
            padding: 40px;
            text-align: center;
            margin: 20px 0;
        }
        .upload-area.dragover {
            border-color: #007bff;
            background-color: #f8f9fa;
        }
        .data-preview {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .form-group {
            margin: 10px 0;
        }
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        .form-group input {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;AutoProposal V2&lt;/h1&gt;
    
    &lt;div class="upload-area" id="uploadArea"&gt;
        &lt;p&gt;Glissez-d√©posez votre PDF ici ou cliquez pour s√©lectionner&lt;/p&gt;
        &lt;input type="file" id="fileInput" accept=".pdf" style="display: none;"&gt;
    &lt;/div&gt;
    
    &lt;div id="dataPreview" style="display: none;"&gt;
        &lt;h3&gt;Donn√©es extraites :&lt;/h3&gt;
        &lt;div class="data-preview"&gt;
            &lt;div class="form-group"&gt;
                &lt;label&gt;Client :&lt;/label&gt;
                &lt;input type="text" id="client"&gt;
            &lt;/div&gt;
            &lt;div class="form-group"&gt;
                &lt;label&gt;Montant :&lt;/label&gt;
                &lt;input type="number" id="montant" step="0.01"&gt;
            &lt;/div&gt;
            &lt;div class="form-group"&gt;
                &lt;label&gt;Date :&lt;/label&gt;
                &lt;input type="date" id="date"&gt;
            &lt;/div&gt;
            &lt;div class="form-group"&gt;
                &lt;label&gt;R√©f√©rence :&lt;/label&gt;
                &lt;input type="text" id="reference"&gt;
            &lt;/div&gt;
            &lt;button onclick="saveToCRM()"&gt;Sauvegarder dans le CRM&lt;/button&gt;
        &lt;/div&gt;
    &lt;/div&gt;

    &lt;script&gt;
        const uploadArea = document.getElementById('uploadArea');
        const fileInput = document.getElementById('fileInput');
        const dataPreview = document.getElementById('dataPreview');

        uploadArea.addEventListener('click', () =&gt; fileInput.click());
        uploadArea.addEventListener('dragover', handleDragOver);
        uploadArea.addEventListener('drop', handleDrop);

        function handleDragOver(e) {
            e.preventDefault();
            uploadArea.classList.add('dragover');
        }

        function handleDrop(e) {
            e.preventDefault();
            uploadArea.classList.remove('dragover');
            const files = e.dataTransfer.files;
            if (files.length &gt; 0) {
                handleFile(files[0]);
            }
        }

        fileInput.addEventListener('change', (e) =&gt; {
            if (e.target.files.length &gt; 0) {
                handleFile(e.target.files[0]);
            }
        });

        function handleFile(file) {
            const formData = new FormData();
            formData.append('file', file);

            fetch('/upload', {
                method: 'POST',
                body: formData
            })
            .then(response =&gt; response.json())
            .then(data =&gt; {
                if (data.success) {
                    displayData(data.data);
                } else {
                    alert('Erreur: ' + data.error);
                }
            })
            .catch(error =&gt; {
                console.error('Error:', error);
                alert('Erreur lors du traitement du fichier');
            });
        }

        function displayData(data) {
            document.getElementById('client').value = data.client || '';
            document.getElementById('montant').value = data.montant || '';
            document.getElementById('date').value = data.date || '';
            document.getElementById('reference').value = data.reference || '';
            dataPreview.style.display = 'block';
        }

        function saveToCRM() {
            // Logique de sauvegarde dans le CRM
            alert('Donn√©es sauvegard√©es dans le CRM !');
        }
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
        </div>
        
        <h2>5. Int√©gration CRM</h2>
        
        <p>Pour l'int√©gration avec le CRM, j'ai cr√©√© un module d'export :</p>
        
        <div class="code-block">
            <pre><code>import pandas as pd
import requests
import json

class CRMExporter:
    def __init__(self, crm_api_url, api_key):
        self.crm_api_url = crm_api_url
        self.api_key = api_key
        self.headers = {
            'Authorization': f'Bearer {api_key}',
            'Content-Type': 'application/json'
        }
    
    def export_to_crm(self, data):
        """Export des donn√©es vers le CRM"""
        crm_data = {
            'client_name': data.get('client', ''),
            'amount': data.get('montant', 0),
            'date': data.get('date', ''),
            'reference': data.get('reference', ''),
            'status': 'pending_validation'
        }
        
        try:
            response = requests.post(
                f"{self.crm_api_url}/proposals",
                headers=self.headers,
                json=crm_data
            )
            
            if response.status_code == 201:
                return {
                    'success': True,
                    'crm_id': response.json().get('id'),
                    'message': 'Propal ajout√©e au CRM avec succ√®s'
                }
            else:
                return {
                    'success': False,
                    'error': f'Erreur CRM: {response.status_code}'
                }
        except Exception as e:
            return {
                'success': False,
                'error': f'Erreur de connexion: {str(e)}'
            }
    
    def export_to_excel(self, data_list, filename):
        """Export vers Excel pour validation manuelle"""
        df = pd.DataFrame(data_list)
        df.to_excel(filename, index=False)
        return f'Donn√©es export√©es vers {filename}'</code></pre>
        </div>
        
        <h2>R√©sultats obtenus</h2>
        
        <p>La solution AutoProposal V2 a transform√© le processus de saisie :</p>
        
        <ul>
            <li>‚ö° <strong>95% de temps gagn√©</strong> : De 2h √† 5min par propal</li>
            <li>üéØ <strong>90% de pr√©cision</strong> sur l'extraction des donn√©es</li>
            <li>üìä <strong>Validation humaine</strong> : Les commerciaux peuvent corriger avant import</li>
            <li>üîÑ <strong>Int√©gration CRM</strong> : Import automatique apr√®s validation</li>
        </ul>
        
        <h2>√âvolutions V2</h2>
        
        <p>La version 2 apporte des am√©liorations significatives :</p>
        
        <ul>
            <li>üîç <strong>OCR am√©lior√©</strong> : Support des PDFs scann√©s</li>
            <li>üìã <strong>Validation en lot</strong> : Traitement de plusieurs PDFs</li>
            <li>üìà <strong>Statistiques</strong> : Tableau de bord des extractions</li>
            <li>üîß <strong>Maintenance</strong> : Interface d'administration</li>
        </ul>
        
        <div class="highlight-box">
            <strong>üí° Prochaine √©tape :</strong> Int√©gration d'IA pour am√©liorer la reconnaissance des formats non standard et la validation automatique des donn√©es.
        </div>
        
        <h2>Points techniques importants</h2>
        
        <ol>
            <li><strong>Gestion des erreurs :</strong> Fallback OCR si extraction PDF √©choue</li>
            <li><strong>Performance :</strong> Traitement asynchrone pour les gros volumes</li>
            <li><strong>S√©curit√© :</strong> Validation des fichiers upload√©s</li>
            <li><strong>Scalabilit√© :</strong> Architecture modulaire pour faciliter les √©volutions</li>
        </ol>
        
        <div class="cta-section">
            <h3>üöÄ Besoin d'automatiser vos processus PDF ?</h3>
            <p>Chaque entreprise a ses sp√©cificit√©s. Contactez-moi pour une solution d'extraction PDF sur-mesure adapt√©e √† vos besoins.</p>
            <a href="../index.html#contact" class="btn">Discuter de votre projet</a>
        </div>
        </div> <!-- End premium-content -->
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Klyon</h3>
                    <p>Votre partenaire informatique dans le Sud de la France</p>
                </div>
                <div class="footer-section">
                    <h4>Services</h4>
                    <ul>
                        <li><a href="../index.html#services">Support Informatique</a></li>
                        <li><a href="../index.html#services">D√©veloppement Sur-Mesure</a></li>
                        <li><a href="../index.html#services">Intelligence Artificielle</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Contact</h4>
                    <ul>
                        <li><a href="mailto:klyonme@gmail.com">klyonme@gmail.com</a></li>
                        <li><a href="tel:+33766980342">07 66 98 03 42</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 Klyon. Tous droits r√©serv√©s.</p>
            </div>
        </div>
    </footer>

    <script src="../script.js"></script>
    
    <!-- Paywall Styles -->
    <style>
        .paywall-overlay {
            position: relative;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
            text-align: center;
            color: white;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            animation: pulse 2s infinite;
        }
        
        .paywall-content {
            position: relative;
            z-index: 2;
        }
        
        .paywall-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            animation: bounce 2s infinite;
        }
        
        .paywall-benefits {
            background: rgba(255,255,255,0.1);
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            text-align: left;
        }
        
        .paywall-benefits ul {
            list-style: none;
            padding: 0;
        }
        
        .paywall-benefits li {
            display: flex;
            align-items: center;
            margin: 0.8rem 0;
            color: rgba(255,255,255,0.9);
        }
        
        .paywall-benefits i {
            color: #4ade80;
            margin-right: 0.8rem;
            font-size: 1.2rem;
        }
        
        .paywall-cta {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 2rem;
        }
        
        .btn-primary, .btn-secondary {
            padding: 12px 24px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .btn-primary {
            background: white;
            color: #667eea;
        }
        
        .btn-secondary {
            background: rgba(255,255,255,0.2);
            color: white;
            border: 2px solid rgba(255,255,255,0.3);
        }
        
        .btn-primary:hover, .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }
        
        .premium-content {
            filter: blur(8px);
            pointer-events: none;
            user-select: none;
            position: relative;
        }
        
        .premium-content::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, rgba(102,126,234,0.1), rgba(118,75,162,0.1));
            z-index: 1;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }
        
        @media (max-width: 768px) {
            .paywall-cta {
                flex-direction: column;
                align-items: center;
            }
            
            .btn-primary, .btn-secondary {
                width: 100%;
                max-width: 300px;
            }
        }
    </style>
    
    <!-- Paywall Protection Script -->
    <script>
        // Protection contre l'inspection
        (function() {
            'use strict';
            
            // D√©tection des DevTools
            let devtools = {open: false, orientation: null};
            const threshold = 160;
            
            setInterval(function() {
                if (window.outerHeight - window.innerHeight > threshold || 
                    window.outerWidth - window.innerWidth > threshold) {
                    if (!devtools.open) {
                        devtools.open = true;
                        console.clear();
                        console.log('%cüö´ Acc√®s refus√©', 'color: #ff0000; font-size: 20px; font-weight: bold;');
                        console.log('%cLe contenu premium est prot√©g√©', 'color: #ff0000; font-size: 14px;');
                        console.log('%cContactez-moi pour acc√©der √† l\'article complet', 'color: #ff0000; font-size: 12px;');
                    }
                } else {
                    devtools.open = false;
                }
            }, 500);
            
            // Blocage des interactions sur le contenu premium
            const premiumContent = document.getElementById('premium-content');
            if (premiumContent) {
                // Bloquer la s√©lection
                premiumContent.addEventListener('selectstart', function(e) {
                    e.preventDefault();
                    return false;
                });
                
                // Bloquer le clic droit
                premiumContent.addEventListener('contextmenu', function(e) {
                    e.preventDefault();
                    return false;
                });
                
                // Bloquer les raccourcis clavier
                document.addEventListener('keydown', function(e) {
                    if (e.key === 'F12' || 
                        (e.ctrlKey && e.shiftKey && (e.key === 'I' || e.key === 'J')) ||
                        (e.ctrlKey && e.key === 'U')) {
                        e.preventDefault();
                        console.log('%cüö´ Acc√®s refus√© - Contenu prot√©g√©', 'color: #ff0000; font-size: 16px; font-weight: bold;');
                        return false;
                    }
                });
                
                // Bloquer la copie
                premiumContent.addEventListener('copy', function(e) {
                    e.preventDefault();
                    return false;
                });
            }
            
            // Animation du paywall
            const paywallOverlay = document.getElementById('paywall-overlay');
            if (paywallOverlay) {
                setInterval(function() {
                    paywallOverlay.style.boxShadow = '0 20px 40px rgba(102,126,234,0.3)';
                    setTimeout(function() {
                        paywallOverlay.style.boxShadow = '0 20px 40px rgba(0,0,0,0.1)';
                    }, 1000);
                }, 3000);
            }
            
            // Tracking des clics sur les boutons
            document.addEventListener('click', function(e) {
                if (e.target.closest('.paywall-cta a')) {
                    // Google Analytics tracking (si disponible)
                    if (typeof gtag !== 'undefined') {
                        gtag('event', 'paywall_click', {
                            'event_category': 'engagement',
                            'event_label': 'autoproposal_article'
                        });
                    }
                }
            });
        })();
    </script>
</body>
</html>
